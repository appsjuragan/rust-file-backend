{
    "openapi":  "3.0.3",
    "info":  {
                 "title":  "rust-file-backend",
                 "description":  "",
                 "license":  {
                                 "name":  ""
                             },
                 "version":  "0.1.0-beta.4"
             },
    "paths":  {
                  "/files":  {
                                 "get":  {
                                             "tags":  [
                                                          "api::handlers::files"
                                                      ],
                                             "operationId":  "list_files",
                                             "parameters":  [
                                                                {
                                                                    "name":  "parent_id",
                                                                    "in":  "query",
                                                                    "description":  "Parent Folder ID",
                                                                    "required":  false,
                                                                    "schema":  {
                                                                                   "type":  "string",
                                                                                   "nullable":  true
                                                                               }
                                                                },
                                                                {
                                                                    "name":  "search",
                                                                    "in":  "query",
                                                                    "description":  "Search query",
                                                                    "required":  false,
                                                                    "schema":  {
                                                                                   "type":  "string",
                                                                                   "nullable":  true
                                                                               }
                                                                }
                                                            ],
                                             "responses":  {
                                                               "200":  {
                                                                           "description":  "List of user files",
                                                                           "content":  {
                                                                                           "application/json":  {
                                                                                                                    "schema":  {
                                                                                                                                   "type":  "array",
                                                                                                                                   "items":  {
                                                                                                                                                 "$ref":  "#/components/schemas/FileMetadata"
                                                                                                                                             }
                                                                                                                               }
                                                                                                                }
                                                                                       }
                                                                       },
                                                               "401":  {
                                                                           "description":  "Unauthorized"
                                                                       }
                                                           },
                                             "security":  [
                                                              {
                                                                  "jwt":  [

                                                                          ]
                                                              }
                                                          ]
                                         }
                             },
                  "/files/bulk-delete":  {
                                             "post":  {
                                                          "tags":  [
                                                                       "api::handlers::files"
                                                                   ],
                                                          "operationId":  "bulk_delete",
                                                          "requestBody":  {
                                                                              "content":  {
                                                                                              "application/json":  {
                                                                                                                       "schema":  {
                                                                                                                                      "$ref":  "#/components/schemas/BulkDeleteRequest"
                                                                                                                                  }
                                                                                                                   }
                                                                                          },
                                                                              "required":  true
                                                                          },
                                                          "responses":  {
                                                                            "200":  {
                                                                                        "description":  "Items deleted",
                                                                                        "content":  {
                                                                                                        "application/json":  {
                                                                                                                                 "schema":  {
                                                                                                                                                "$ref":  "#/components/schemas/BulkDeleteResponse"
                                                                                                                                            }
                                                                                                                             }
                                                                                                    }
                                                                                    },
                                                                            "400":  {
                                                                                        "description":  "Bad request"
                                                                                    },
                                                                            "401":  {
                                                                                        "description":  "Unauthorized"
                                                                                    }
                                                                        },
                                                          "security":  [
                                                                           {
                                                                               "jwt":  [

                                                                                       ]
                                                                           }
                                                                       ]
                                                      }
                                         },
                  "/files/bulk-move":  {
                                           "post":  {
                                                        "tags":  [
                                                                     "api::handlers::files"
                                                                 ],
                                                        "operationId":  "bulk_move",
                                                        "requestBody":  {
                                                                            "content":  {
                                                                                            "application/json":  {
                                                                                                                     "schema":  {
                                                                                                                                    "$ref":  "#/components/schemas/BulkMoveRequest"
                                                                                                                                }
                                                                                                                 }
                                                                                        },
                                                                            "required":  true
                                                                        },
                                                        "responses":  {
                                                                          "200":  {
                                                                                      "description":  "Items moved",
                                                                                      "content":  {
                                                                                                      "application/json":  {
                                                                                                                               "schema":  {
                                                                                                                                              "$ref":  "#/components/schemas/BulkMoveResponse"
                                                                                                                                          }
                                                                                                                           }
                                                                                                  }
                                                                                  },
                                                                          "400":  {
                                                                                      "description":  "Bad request"
                                                                                  },
                                                                          "401":  {
                                                                                      "description":  "Unauthorized"
                                                                                  }
                                                                      },
                                                        "security":  [
                                                                         {
                                                                             "jwt":  [

                                                                                     ]
                                                                         }
                                                                     ]
                                                    }
                                       },
                  "/files/link":  {
                                      "post":  {
                                                   "tags":  [
                                                                "api::handlers::files"
                                                            ],
                                                   "operationId":  "link_file",
                                                   "requestBody":  {
                                                                       "content":  {
                                                                                       "application/json":  {
                                                                                                                "schema":  {
                                                                                                                               "$ref":  "#/components/schemas/LinkFileRequest"
                                                                                                                           }
                                                                                                            }
                                                                                   },
                                                                       "required":  true
                                                                   },
                                                   "responses":  {
                                                                     "200":  {
                                                                                 "description":  "File linked successfully",
                                                                                 "content":  {
                                                                                                 "application/json":  {
                                                                                                                          "schema":  {
                                                                                                                                         "$ref":  "#/components/schemas/UploadResponse"
                                                                                                                                     }
                                                                                                                      }
                                                                                             }
                                                                             },
                                                                     "401":  {
                                                                                 "description":  "Unauthorized"
                                                                             },
                                                                     "404":  {
                                                                                 "description":  "Storage file not found"
                                                                             }
                                                                 },
                                                   "security":  [
                                                                    {
                                                                        "jwt":  [

                                                                                ]
                                                                    }
                                                                ]
                                               }
                                  },
                  "/files/{id}":  {
                                      "get":  {
                                                  "tags":  [
                                                               "api::handlers::files"
                                                           ],
                                                  "operationId":  "download_file",
                                                  "parameters":  [
                                                                     {
                                                                         "name":  "id",
                                                                         "in":  "path",
                                                                         "description":  "User File ID",
                                                                         "required":  true,
                                                                         "schema":  {
                                                                                        "type":  "string"
                                                                                    }
                                                                     }
                                                                 ],
                                                  "responses":  {
                                                                    "200":  {
                                                                                "description":  "File download stream"
                                                                            },
                                                                    "401":  {
                                                                                "description":  "Unauthorized"
                                                                            },
                                                                    "404":  {
                                                                                "description":  "File not found"
                                                                            },
                                                                    "410":  {
                                                                                "description":  "File expired"
                                                                            }
                                                                },
                                                  "security":  [
                                                                   {
                                                                       "jwt":  [

                                                                               ]
                                                                   }
                                                               ]
                                              },
                                      "delete":  {
                                                     "tags":  [
                                                                  "api::handlers::files"
                                                              ],
                                                     "operationId":  "delete_item",
                                                     "parameters":  [
                                                                        {
                                                                            "name":  "id",
                                                                            "in":  "path",
                                                                            "description":  "File/Folder ID",
                                                                            "required":  true,
                                                                            "schema":  {
                                                                                           "type":  "string"
                                                                                       }
                                                                        }
                                                                    ],
                                                     "responses":  {
                                                                       "200":  {
                                                                                   "description":  "Item deleted"
                                                                               },
                                                                       "401":  {
                                                                                   "description":  "Unauthorized"
                                                                               },
                                                                       "404":  {
                                                                                   "description":  "Item not found"
                                                                               }
                                                                   },
                                                     "security":  [
                                                                      {
                                                                          "jwt":  [

                                                                                  ]
                                                                      }
                                                                  ]
                                                 }
                                  },
                  "/files/{id}/path":  {
                                           "get":  {
                                                       "tags":  [
                                                                    "api::handlers::files"
                                                                ],
                                                       "operationId":  "get_folder_path",
                                                       "parameters":  [
                                                                          {
                                                                              "name":  "id",
                                                                              "in":  "path",
                                                                              "description":  "Folder ID",
                                                                              "required":  true,
                                                                              "schema":  {
                                                                                             "type":  "string"
                                                                                         }
                                                                          }
                                                                      ],
                                                       "responses":  {
                                                                         "200":  {
                                                                                     "description":  "Folder path breadcrumbs",
                                                                                     "content":  {
                                                                                                     "application/json":  {
                                                                                                                              "schema":  {
                                                                                                                                             "type":  "array",
                                                                                                                                             "items":  {
                                                                                                                                                           "$ref":  "#/components/schemas/FileMetadataResponse"
                                                                                                                                                       }
                                                                                                                                         }
                                                                                                                          }
                                                                                                 }
                                                                                 },
                                                                         "401":  {
                                                                                     "description":  "Unauthorized"
                                                                                 },
                                                                         "404":  {
                                                                                     "description":  "Folder not found"
                                                                                 }
                                                                     },
                                                       "security":  [
                                                                        {
                                                                            "jwt":  [

                                                                                    ]
                                                                        }
                                                                    ]
                                                   }
                                       },
                  "/files/{id}/rename":  {
                                             "put":  {
                                                         "tags":  [
                                                                      "api::handlers::files"
                                                                  ],
                                                         "operationId":  "rename_item",
                                                         "parameters":  [
                                                                            {
                                                                                "name":  "id",
                                                                                "in":  "path",
                                                                                "description":  "File/Folder ID",
                                                                                "required":  true,
                                                                                "schema":  {
                                                                                               "type":  "string"
                                                                                           }
                                                                            }
                                                                        ],
                                                         "requestBody":  {
                                                                             "content":  {
                                                                                             "application/json":  {
                                                                                                                      "schema":  {
                                                                                                                                     "$ref":  "#/components/schemas/RenameRequest"
                                                                                                                                 }
                                                                                                                  }
                                                                                         },
                                                                             "required":  true
                                                                         },
                                                         "responses":  {
                                                                           "200":  {
                                                                                       "description":  "Item renamed"
                                                                                   },
                                                                           "401":  {
                                                                                       "description":  "Unauthorized"
                                                                                   },
                                                                           "404":  {
                                                                                       "description":  "Item not found"
                                                                                   }
                                                                       },
                                                         "security":  [
                                                                          {
                                                                              "jwt":  [

                                                                                      ]
                                                                          }
                                                                      ]
                                                     }
                                         },
                  "/files/{id}/zip-contents":  {
                                                   "get":  {
                                                               "tags":  [
                                                                            "api::handlers::files"
                                                                        ],
                                                               "operationId":  "get_zip_contents",
                                                               "parameters":  [
                                                                                  {
                                                                                      "name":  "id",
                                                                                      "in":  "path",
                                                                                      "description":  "User File ID",
                                                                                      "required":  true,
                                                                                      "schema":  {
                                                                                                     "type":  "string"
                                                                                                 }
                                                                                  }
                                                                              ],
                                                               "responses":  {
                                                                                 "200":  {
                                                                                             "description":  "List of files inside archive (ZIP, 7z)",
                                                                                             "content":  {
                                                                                                             "application/json":  {
                                                                                                                                      "schema":  {
                                                                                                                                                     "type":  "array",
                                                                                                                                                     "items":  {
                                                                                                                                                                   "$ref":  "#/components/schemas/ZipEntry"
                                                                                                                                                               }
                                                                                                                                                 }
                                                                                                                                  }
                                                                                                         }
                                                                                         },
                                                                                 "400":  {
                                                                                             "description":  "File is not a supported archive or too large"
                                                                                         },
                                                                                 "401":  {
                                                                                             "description":  "Unauthorized"
                                                                                         },
                                                                                 "404":  {
                                                                                             "description":  "File not found"
                                                                                         }
                                                                             },
                                                               "security":  [
                                                                                {
                                                                                    "jwt":  [

                                                                                            ]
                                                                                }
                                                                            ]
                                                           }
                                               },
                  "/folders":  {
                                   "post":  {
                                                "tags":  [
                                                             "api::handlers::files"
                                                         ],
                                                "operationId":  "create_folder",
                                                "requestBody":  {
                                                                    "content":  {
                                                                                    "application/json":  {
                                                                                                             "schema":  {
                                                                                                                            "$ref":  "#/components/schemas/CreateFolderRequest"
                                                                                                                        }
                                                                                                         }
                                                                                },
                                                                    "required":  true
                                                                },
                                                "responses":  {
                                                                  "200":  {
                                                                              "description":  "Folder created"
                                                                          },
                                                                  "401":  {
                                                                              "description":  "Unauthorized"
                                                                          }
                                                              },
                                                "security":  [
                                                                 {
                                                                     "jwt":  [

                                                                             ]
                                                                 }
                                                             ]
                                            }
                               },
                  "/health":  {
                                  "get":  {
                                              "tags":  [
                                                           "system"
                                                       ],
                                              "operationId":  "health_check",
                                              "responses":  {
                                                                "200":  {
                                                                            "description":  "System health status",
                                                                            "content":  {
                                                                                            "application/json":  {
                                                                                                                     "schema":  {
                                                                                                                                    "$ref":  "#/components/schemas/HealthResponse"
                                                                                                                                }
                                                                                                                 }
                                                                                        }
                                                                        }
                                                            }
                                          }
                              },
                  "/login":  {
                                 "post":  {
                                              "tags":  [
                                                           "api::handlers::auth"
                                                       ],
                                              "operationId":  "login",
                                              "requestBody":  {
                                                                  "content":  {
                                                                                  "application/json":  {
                                                                                                           "schema":  {
                                                                                                                          "$ref":  "#/components/schemas/AuthRequest"
                                                                                                                      }
                                                                                                       }
                                                                              },
                                                                  "required":  true
                                                              },
                                              "responses":  {
                                                                "200":  {
                                                                            "description":  "Login successful",
                                                                            "content":  {
                                                                                            "application/json":  {
                                                                                                                     "schema":  {
                                                                                                                                    "$ref":  "#/components/schemas/AuthResponse"
                                                                                                                                }
                                                                                                                 }
                                                                                        }
                                                                        },
                                                                "401":  {
                                                                            "description":  "Invalid credentials"
                                                                        }
                                                            }
                                          }
                             },
                  "/pre-check":  {
                                     "post":  {
                                                  "tags":  [
                                                               "api::handlers::files"
                                                           ],
                                                  "operationId":  "pre_check_dedup",
                                                  "requestBody":  {
                                                                      "content":  {
                                                                                      "application/json":  {
                                                                                                               "schema":  {
                                                                                                                              "$ref":  "#/components/schemas/PreCheckRequest"
                                                                                                                          }
                                                                                                           }
                                                                                  },
                                                                      "required":  true
                                                                  },
                                                  "responses":  {
                                                                    "200":  {
                                                                                "description":  "Pre-check successful",
                                                                                "content":  {
                                                                                                "application/json":  {
                                                                                                                         "schema":  {
                                                                                                                                        "$ref":  "#/components/schemas/PreCheckResponse"
                                                                                                                                    }
                                                                                                                     }
                                                                                            }
                                                                            },
                                                                    "401":  {
                                                                                "description":  "Unauthorized"
                                                                            }
                                                                },
                                                  "security":  [
                                                                   {
                                                                       "jwt":  [

                                                                               ]
                                                                   }
                                                               ]
                                              }
                                 },
                  "/register":  {
                                    "post":  {
                                                 "tags":  [
                                                              "api::handlers::auth"
                                                          ],
                                                 "operationId":  "register",
                                                 "requestBody":  {
                                                                     "content":  {
                                                                                     "application/json":  {
                                                                                                              "schema":  {
                                                                                                                             "$ref":  "#/components/schemas/AuthRequest"
                                                                                                                         }
                                                                                                          }
                                                                                 },
                                                                     "required":  true
                                                                 },
                                                 "responses":  {
                                                                   "201":  {
                                                                               "description":  "User registered successfully"
                                                                           },
                                                                   "400":  {
                                                                               "description":  "Username already exists"
                                                                           }
                                                               }
                                             }
                                },
                  "/settings":  {
                                    "get":  {
                                                "tags":  [
                                                             "api::handlers::user_settings"
                                                         ],
                                                "operationId":  "get_settings",
                                                "responses":  {
                                                                  "200":  {
                                                                              "description":  "Get user settings",
                                                                              "content":  {
                                                                                              "application/json":  {
                                                                                                                       "schema":  {
                                                                                                                                      "$ref":  "#/components/schemas/UserSettingsResponse"
                                                                                                                                  }
                                                                                                                   }
                                                                                          }
                                                                          },
                                                                  "401":  {
                                                                              "description":  "Unauthorized"
                                                                          }
                                                              },
                                                "security":  [
                                                                 {
                                                                     "jwt":  [

                                                                             ]
                                                                 }
                                                             ]
                                            },
                                    "put":  {
                                                "tags":  [
                                                             "api::handlers::user_settings"
                                                         ],
                                                "operationId":  "update_settings",
                                                "requestBody":  {
                                                                    "content":  {
                                                                                    "application/json":  {
                                                                                                             "schema":  {
                                                                                                                            "$ref":  "#/components/schemas/UpdateUserSettingsRequest"
                                                                                                                        }
                                                                                                         }
                                                                                },
                                                                    "required":  true
                                                                },
                                                "responses":  {
                                                                  "200":  {
                                                                              "description":  "Update user settings",
                                                                              "content":  {
                                                                                              "application/json":  {
                                                                                                                       "schema":  {
                                                                                                                                      "$ref":  "#/components/schemas/UserSettingsResponse"
                                                                                                                                  }
                                                                                                                   }
                                                                                          }
                                                                          },
                                                                  "401":  {
                                                                              "description":  "Unauthorized"
                                                                          }
                                                              },
                                                "security":  [
                                                                 {
                                                                     "jwt":  [

                                                                             ]
                                                                 }
                                                             ]
                                            }
                                },
                  "/upload":  {
                                  "post":  {
                                               "tags":  [
                                                            "api::handlers::files"
                                                        ],
                                               "operationId":  "upload_file",
                                               "requestBody":  {
                                                                   "description":  "File upload",
                                                                   "content":  {
                                                                                   "application/json":  {
                                                                                                            "schema":  {
                                                                                                                           "$ref":  "#/components/schemas/Multipart"
                                                                                                                       }
                                                                                                        }
                                                                               },
                                                                   "required":  true
                                                               },
                                               "responses":  {
                                                                 "200":  {
                                                                             "description":  "File uploaded successfully",
                                                                             "content":  {
                                                                                             "application/json":  {
                                                                                                                      "schema":  {
                                                                                                                                     "$ref":  "#/components/schemas/UploadResponse"
                                                                                                                                 }
                                                                                                                  }
                                                                                         }
                                                                         },
                                                                 "401":  {
                                                                             "description":  "Unauthorized"
                                                                         }
                                                             },
                                               "security":  [
                                                                {
                                                                    "jwt":  [

                                                                            ]
                                                                }
                                                            ]
                                           }
                              },
                  "/users/me":  {
                                    "get":  {
                                                "tags":  [
                                                             "api::handlers::users"
                                                         ],
                                                "operationId":  "get_profile",
                                                "responses":  {
                                                                  "200":  {
                                                                              "description":  "Profile retrieved successfully",
                                                                              "content":  {
                                                                                              "application/json":  {
                                                                                                                       "schema":  {
                                                                                                                                      "$ref":  "#/components/schemas/UserProfileResponse"
                                                                                                                                  }
                                                                                                                   }
                                                                                          }
                                                                          },
                                                                  "401":  {
                                                                              "description":  "Unauthorized"
                                                                          }
                                                              },
                                                "security":  [
                                                                 {
                                                                     "jwt":  [

                                                                             ]
                                                                 }
                                                             ]
                                            },
                                    "put":  {
                                                "tags":  [
                                                             "api::handlers::users"
                                                         ],
                                                "operationId":  "update_profile",
                                                "requestBody":  {
                                                                    "content":  {
                                                                                    "application/json":  {
                                                                                                             "schema":  {
                                                                                                                            "$ref":  "#/components/schemas/UpdateProfileRequest"
                                                                                                                        }
                                                                                                         }
                                                                                },
                                                                    "required":  true
                                                                },
                                                "responses":  {
                                                                  "200":  {
                                                                              "description":  "Profile updated successfully",
                                                                              "content":  {
                                                                                              "application/json":  {
                                                                                                                       "schema":  {
                                                                                                                                      "$ref":  "#/components/schemas/UserProfileResponse"
                                                                                                                                  }
                                                                                                                   }
                                                                                          }
                                                                          },
                                                                  "401":  {
                                                                              "description":  "Unauthorized"
                                                                          }
                                                              },
                                                "security":  [
                                                                 {
                                                                     "jwt":  [

                                                                             ]
                                                                 }
                                                             ]
                                            }
                                },
                  "/users/me/avatar":  {
                                           "get":  {
                                                       "tags":  [
                                                                    "api::handlers::users"
                                                                ],
                                                       "operationId":  "get_avatar",
                                                       "responses":  {
                                                                         "200":  {
                                                                                     "description":  "Avatar image"
                                                                                 },
                                                                         "404":  {
                                                                                     "description":  "Avatar not found"
                                                                                 }
                                                                     }
                                                   },
                                           "post":  {
                                                        "tags":  [
                                                                     "api::handlers::users"
                                                                 ],
                                                        "operationId":  "upload_avatar",
                                                        "requestBody":  {
                                                                            "description":  "Avatar image file",
                                                                            "content":  {
                                                                                            "multipart/form-data":  {
                                                                                                                        "schema":  {
                                                                                                                                       "type":  "object"
                                                                                                                                   }
                                                                                                                    }
                                                                                        },
                                                                            "required":  true
                                                                        },
                                                        "responses":  {
                                                                          "200":  {
                                                                                      "description":  "Avatar uploaded successfully",
                                                                                      "content":  {
                                                                                                      "application/json":  {
                                                                                                                               "schema":  {
                                                                                                                                              "$ref":  "#/components/schemas/AvatarResponse"
                                                                                                                                          }
                                                                                                                           }
                                                                                                  }
                                                                                  },
                                                                          "401":  {
                                                                                      "description":  "Unauthorized"
                                                                                  }
                                                                      },
                                                        "security":  [
                                                                         {
                                                                             "jwt":  [

                                                                                     ]
                                                                         }
                                                                     ]
                                                    }
                                       },
                  "/users/me/facts":  {
                                          "get":  {
                                                      "tags":  [
                                                                   "api::handlers::users"
                                                               ],
                                                      "operationId":  "get_user_facts",
                                                      "responses":  {
                                                                        "200":  {
                                                                                    "description":  "Facts retrieved successfully",
                                                                                    "content":  {
                                                                                                    "application/json":  {
                                                                                                                             "schema":  {
                                                                                                                                            "$ref":  "#/components/schemas/user_file_facts.Model"
                                                                                                                                        }
                                                                                                                         }
                                                                                                }
                                                                                },
                                                                        "401":  {
                                                                                    "description":  "Unauthorized"
                                                                                }
                                                                    },
                                                      "security":  [
                                                                       {
                                                                           "jwt":  [

                                                                                   ]
                                                                       }
                                                                   ]
                                                  }
                                      }
              },
    "components":  {
                       "schemas":  {
                                       "AuthRequest":  {
                                                           "type":  "object",
                                                           "required":  [
                                                                            "username",
                                                                            "password"
                                                                        ],
                                                           "properties":  {
                                                                              "password":  {
                                                                                               "type":  "string"
                                                                                           },
                                                                              "username":  {
                                                                                               "type":  "string"
                                                                                           }
                                                                          }
                                                       },
                                       "AuthResponse":  {
                                                            "type":  "object",
                                                            "required":  [
                                                                             "token"
                                                                         ],
                                                            "properties":  {
                                                                               "token":  {
                                                                                             "type":  "string"
                                                                                         }
                                                                           }
                                                        },
                                       "AvatarResponse":  {
                                                              "type":  "object",
                                                              "required":  [
                                                                               "url"
                                                                           ],
                                                              "properties":  {
                                                                                 "url":  {
                                                                                             "type":  "string"
                                                                                         }
                                                                             }
                                                          },
                                       "BulkDeleteRequest":  {
                                                                 "type":  "object",
                                                                 "required":  [
                                                                                  "item_ids"
                                                                              ],
                                                                 "properties":  {
                                                                                    "item_ids":  {
                                                                                                     "type":  "array",
                                                                                                     "items":  {
                                                                                                                   "type":  "string"
                                                                                                               }
                                                                                                 }
                                                                                }
                                                             },
                                       "BulkDeleteResponse":  {
                                                                  "type":  "object",
                                                                  "required":  [
                                                                                   "deleted_count"
                                                                               ],
                                                                  "properties":  {
                                                                                     "deleted_count":  {
                                                                                                           "type":  "integer",
                                                                                                           "minimum":  0
                                                                                                       }
                                                                                 }
                                                              },
                                       "BulkMoveRequest":  {
                                                               "type":  "object",
                                                               "required":  [
                                                                                "item_ids"
                                                                            ],
                                                               "properties":  {
                                                                                  "item_ids":  {
                                                                                                   "type":  "array",
                                                                                                   "items":  {
                                                                                                                 "type":  "string"
                                                                                                             }
                                                                                               },
                                                                                  "parent_id":  {
                                                                                                    "type":  "string",
                                                                                                    "nullable":  true
                                                                                                }
                                                                              }
                                                           },
                                       "BulkMoveResponse":  {
                                                                "type":  "object",
                                                                "required":  [
                                                                                 "moved_count"
                                                                             ],
                                                                "properties":  {
                                                                                   "moved_count":  {
                                                                                                       "type":  "integer",
                                                                                                       "minimum":  0
                                                                                                   }
                                                                               }
                                                            },
                                       "CreateFolderRequest":  {
                                                                   "type":  "object",
                                                                   "required":  [
                                                                                    "name"
                                                                                ],
                                                                   "properties":  {
                                                                                      "name":  {
                                                                                                   "type":  "string"
                                                                                               },
                                                                                      "parent_id":  {
                                                                                                        "type":  "string",
                                                                                                        "nullable":  true
                                                                                                    }
                                                                                  }
                                                               },
                                       "FileMetadataResponse":  {
                                                                    "type":  "object",
                                                                    "required":  [
                                                                                     "id",
                                                                                     "filename",
                                                                                     "is_folder",
                                                                                     "created_at",
                                                                                     "tags"
                                                                                 ],
                                                                    "properties":  {
                                                                                       "category":  {
                                                                                                        "type":  "string",
                                                                                                        "nullable":  true
                                                                                                    },
                                                                                       "created_at":  {
                                                                                                          "type":  "string",
                                                                                                          "format":  "date-time"
                                                                                                      },
                                                                                       "expires_at":  {
                                                                                                          "type":  "string",
                                                                                                          "format":  "date-time",
                                                                                                          "nullable":  true
                                                                                                      },
                                                                                       "extra_metadata":  {
                                                                                                              "nullable":  true
                                                                                                          },
                                                                                       "filename":  {
                                                                                                        "type":  "string"
                                                                                                    },
                                                                                       "id":  {
                                                                                                  "type":  "string"
                                                                                              },
                                                                                       "is_folder":  {
                                                                                                         "type":  "boolean"
                                                                                                     },
                                                                                       "mime_type":  {
                                                                                                         "type":  "string",
                                                                                                         "nullable":  true
                                                                                                     },
                                                                                       "parent_id":  {
                                                                                                         "type":  "string",
                                                                                                         "nullable":  true
                                                                                                     },
                                                                                       "scan_result":  {
                                                                                                           "type":  "string",
                                                                                                           "nullable":  true
                                                                                                       },
                                                                                       "scan_status":  {
                                                                                                           "type":  "string",
                                                                                                           "nullable":  true
                                                                                                       },
                                                                                       "size":  {
                                                                                                    "type":  "integer",
                                                                                                    "format":  "int64",
                                                                                                    "nullable":  true
                                                                                                },
                                                                                       "tags":  {
                                                                                                    "type":  "array",
                                                                                                    "items":  {
                                                                                                                  "type":  "string"
                                                                                                              }
                                                                                                }
                                                                                   }
                                                                },
                                       "HealthResponse":  {
                                                              "type":  "object",
                                                              "required":  [
                                                                               "status",
                                                                               "database",
                                                                               "storage",
                                                                               "version"
                                                                           ],
                                                              "properties":  {
                                                                                 "database":  {
                                                                                                  "type":  "string"
                                                                                              },
                                                                                 "status":  {
                                                                                                "type":  "string"
                                                                                            },
                                                                                 "storage":  {
                                                                                                 "type":  "string"
                                                                                             },
                                                                                 "version":  {
                                                                                                 "type":  "string"
                                                                                             }
                                                                             }
                                                          },
                                       "LinkFileRequest":  {
                                                               "type":  "object",
                                                               "required":  [
                                                                                "storage_file_id",
                                                                                "filename"
                                                                            ],
                                                               "properties":  {
                                                                                  "expiration_hours":  {
                                                                                                           "type":  "integer",
                                                                                                           "format":  "int64",
                                                                                                           "nullable":  true
                                                                                                       },
                                                                                  "filename":  {
                                                                                                   "type":  "string"
                                                                                               },
                                                                                  "parent_id":  {
                                                                                                    "type":  "string",
                                                                                                    "nullable":  true
                                                                                                },
                                                                                  "storage_file_id":  {
                                                                                                          "type":  "string"
                                                                                                      }
                                                                              }
                                                           },
                                       "PreCheckRequest":  {
                                                               "type":  "object",
                                                               "required":  [
                                                                                "full_hash",
                                                                                "size"
                                                                            ],
                                                               "properties":  {
                                                                                  "chunk_hashes":  {
                                                                                                       "type":  "array",
                                                                                                       "items":  {
                                                                                                                     "$ref":  "#/components/schemas/ChunkHash"
                                                                                                                 },
                                                                                                       "nullable":  true
                                                                                                   },
                                                                                  "full_hash":  {
                                                                                                    "type":  "string"
                                                                                                },
                                                                                  "size":  {
                                                                                               "type":  "integer",
                                                                                               "format":  "int64"
                                                                                           }
                                                                              }
                                                           },
                                       "PreCheckResponse":  {
                                                                "type":  "object",
                                                                "required":  [
                                                                                 "exists"
                                                                             ],
                                                                "properties":  {
                                                                                   "exists":  {
                                                                                                  "type":  "boolean"
                                                                                              },
                                                                                   "file_id":  {
                                                                                                   "type":  "string",
                                                                                                   "nullable":  true
                                                                                               },
                                                                                   "upload_token":  {
                                                                                                        "type":  "string",
                                                                                                        "nullable":  true
                                                                                                    }
                                                                               }
                                                            },
                                       "RenameRequest":  {
                                                             "type":  "object",
                                                             "properties":  {
                                                                                "name":  {
                                                                                             "type":  "string",
                                                                                             "nullable":  true
                                                                                         },
                                                                                "parent_id":  {
                                                                                                  "type":  "string",
                                                                                                  "nullable":  true
                                                                                              }
                                                                            }
                                                         },
                                       "UpdateProfileRequest":  {
                                                                    "type":  "object",
                                                                    "properties":  {
                                                                                       "email":  {
                                                                                                     "type":  "string",
                                                                                                     "nullable":  true
                                                                                                 },
                                                                                       "name":  {
                                                                                                    "type":  "string",
                                                                                                    "nullable":  true
                                                                                                },
                                                                                       "password":  {
                                                                                                        "type":  "string",
                                                                                                        "nullable":  true
                                                                                                    }
                                                                                   }
                                                                },
                                       "UpdateUserSettingsRequest":  {
                                                                         "type":  "object",
                                                                         "properties":  {
                                                                                            "theme":  {
                                                                                                          "type":  "string",
                                                                                                          "nullable":  true
                                                                                                      },
                                                                                            "view_style":  {
                                                                                                               "type":  "string",
                                                                                                               "nullable":  true
                                                                                                           }
                                                                                        }
                                                                     },
                                       "UploadResponse":  {
                                                              "type":  "object",
                                                              "required":  [
                                                                               "file_id",
                                                                               "filename"
                                                                           ],
                                                              "properties":  {
                                                                                 "expires_at":  {
                                                                                                    "type":  "string",
                                                                                                    "format":  "date-time",
                                                                                                    "nullable":  true
                                                                                                },
                                                                                 "file_id":  {
                                                                                                 "type":  "string"
                                                                                             },
                                                                                 "filename":  {
                                                                                                  "type":  "string"
                                                                                              }
                                                                             }
                                                          },
                                       "UserProfileResponse":  {
                                                                   "type":  "object",
                                                                   "required":  [
                                                                                    "id",
                                                                                    "username"
                                                                                ],
                                                                   "properties":  {
                                                                                      "avatar_url":  {
                                                                                                         "type":  "string",
                                                                                                         "nullable":  true
                                                                                                     },
                                                                                      "email":  {
                                                                                                    "type":  "string",
                                                                                                    "nullable":  true
                                                                                                },
                                                                                      "id":  {
                                                                                                 "type":  "string"
                                                                                             },
                                                                                      "name":  {
                                                                                                   "type":  "string",
                                                                                                   "nullable":  true
                                                                                               },
                                                                                      "username":  {
                                                                                                       "type":  "string"
                                                                                                   }
                                                                                  }
                                                               },
                                       "UserSettingsResponse":  {
                                                                    "type":  "object",
                                                                    "required":  [
                                                                                     "theme",
                                                                                     "view_style"
                                                                                 ],
                                                                    "properties":  {
                                                                                       "theme":  {
                                                                                                     "type":  "string"
                                                                                                 },
                                                                                       "view_style":  {
                                                                                                          "type":  "string"
                                                                                                      }
                                                                                   }
                                                                },
                                       "ZipEntry":  {
                                                        "type":  "object",
                                                        "required":  [
                                                                         "name",
                                                                         "size",
                                                                         "compressed_size",
                                                                         "is_dir"
                                                                     ],
                                                        "properties":  {
                                                                           "compressed_size":  {
                                                                                                   "type":  "integer",
                                                                                                   "format":  "int64",
                                                                                                   "minimum":  0
                                                                                               },
                                                                           "is_dir":  {
                                                                                          "type":  "boolean"
                                                                                      },
                                                                           "name":  {
                                                                                        "type":  "string"
                                                                                    },
                                                                           "size":  {
                                                                                        "type":  "integer",
                                                                                        "format":  "int64",
                                                                                        "minimum":  0
                                                                                    }
                                                                       }
                                                    }
                                   }
                   },
    "tags":  [
                 {
                     "name":  "auth",
                     "description":  "Authentication endpoints"
                 },
                 {
                     "name":  "files",
                     "description":  "File management endpoints"
                 }
             ],
    "servers":  [
                    {
                        "url":  "https://myfiles1.thepihouse.my.id/"
                    }
                ]
}
